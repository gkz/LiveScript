<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>LiveScript</title>
<meta name='description' content="LiveScript is a language that compiles down to JavaScript. It is a fork of Coco, which is in turn derived from CoffeeScript. LiveScript is Coco that is much more compatible with CoffeeScript, more functional, and more feature rich.">

<link rel="icon" type="image/png" href="images/icon.png">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

<link href="bootstrap/themes/cerulean.bootstrap.min.css" rel="stylesheet">
<link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

<script src="bootstrap/js/bootstrap.js"></script>
<script src="bootstrap/js/bootstrap-scrollspy.js"></script>

<script src="google-code-prettify/prettify.js"></script>
<link href="google-code-prettify/prettify.css" rel="stylesheet">
<script src="lang-ls-0.9.4.js"></script>

<script src="underscore-min.js"></script>

<link href="styles.css" rel="stylesheet">

<script src="site.js"></script>

<script>
  if(window.location.host === "gkz.github.com") {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7402515-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  }
</script>
</head>
<body data-spy="scroll">
<div class="site container-fluid">
  <div class="row-fluid side-row">
    <div class="span2 sidebar">
      <h1><a href="#">LiveScript</a><img src="images/icon.png"></h1>
      <ul class="nav nav-list">
        <li class="active"><a href="#overview">Overview</a></li> 
        <li class="divider">
        <li><a href="#installation">Installation</a></li> 
        <li><a href="#editor-support">Text Editor Support</a></li> 
        <li><a href="#usage">Usage</a></li> 
        <li class="divider">
        <li><a href="#reference">Reference</a></li> 
        <li><a href="#literals">Literals</a></li> 
        <li><a href="#conditions">Conditions</a></li> 
        <li><a href="#functions">Functions</a></li> 
        <li><a href="#loops">Loops and Comprehensions</a></li> 
        <li><a href="#switch">Switch</a></li> 
        <li><a href="#operators">Operators</a></li> 
        <li><a href="#assignment">Assignment</a></li> 
        <li><a href="#property-access">Property Access</a></li> 
        <li><a href="#oop">OOP</a></li> 
        <li class="divider">
        <li><a href="#coffee-to-ls">Converting from CoffeeScript</a></li> 
        <li><a href="#comparison-table">Comparison Table</a></li> 
        <li><a href="#speed">Speed</a></li> 
        <li><a href="#changes">Changes from Coco</a></li> 
        <li class="divider">
        <li><a href="#inspiration">Inspiration</a></li> 
        <li><a href="#name">Name</a></li> 
      </ul>
    </div>
    <div class="span4 compiler">
      <div class="compiler-box">
      <div class="github-buttons">
        <iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=gkz&repo=LiveScript&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
      </div>
        <textarea placeholder="Enter LiveScript here"></textarea>
        <div class="actions">
          <button class="btn btn-primary" data-action="compile" title="Convert LiveScript to JavaScript">Compile</button>
          <button class="btn" data-action="run" title="Run compiled JavaScript">Run</button>
          <button class="btn" data-action="ast" title="Abstract Syntax Tree">AST</button>
          <button class="btn" data-action="tokens" title="Tokenization of input">Tokens</button>
          <button class="btn" data-action="lex" title="Same as tokens, but skipping rewriting">Lex</button>
        </div>
      </div>
      <div class="compiler-output">

      </div>
    </div>
  </div>
  <div class="row-fluid content-row">
    <div class="span2">&nbsp;</div>
    <div class="span6 content">
      <div id="overview" class="section">
        <a name="overview"></a>
        <h2>Overview</h2>
        <p>LiveScript is a language which compiles down to JavaScript. It is a fork of <a href="http://satyr.github.com/coco/">Coco</a> which is in turn derived from <a href="http://coffeescript.org/">CoffeeScript</a>. Like those two it has a relatively straightforward mapping to JavaScript. LiveScript is Coco but much more compatible with CoffeeScript, more functional, and more feature rich. LiveScript aims for increased expressiveness and code beauty.</p>
        <div class="major-actions">
          <h3 class="download">Download 0.9.4</h3>
          <a href="https://github.com/gkz/LiveScript/zipball/0.9.4"><div class="btn btn-large btn">zip</div></a>
          <a href="https://github.com/gkz/LiveScript/tarball/0.9.4"><div class="btn btn-large btn">tar.gz</div></a>
          <a href="https://github.com/gkz/LiveScript"><div class="btn btn-large btn-primary">View project on GitHub</div></a>
          <iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=gkz&repo=LiveScript&type=watch&size=large&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="140" height="40"></iframe>
        </div>
        <p>Install via <a href="http://npmjs.org">npm</a>: <strong><code>sudo npm install -g LiveScript</code></strong>
        <p>Double-click an example to load it into the compiler. CoffeeScript users check out the <a href="#coffee-to-ls">CoffeeScript to LiveScript Conversion Guide</a>.
      <h3>Some Examples</h3>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Unnested callbacks and paren free chaining
<- $ \h1 .on \click
alert \boom!
# Double click to load, then hit 
# Run and click the LiveScript logo
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">

$('h1').on('click', function(){
  return alert('boom!');
});


</pre>
        </div>
      </div>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Curried functions, implicit switch, and
# cons operator
take(n, [x, ...xs]:list) =
  | n <= 0       => []
  | !list.length => []
  | otherwise    => x & take n - 1, xs

take 2, [1 2 3 4 5] #=> [1, 2]

takeThree = take 3
takeThree [3 to 8] #=> [3, 4, 5]

# Implicit argument
reverse = -> it.reverse!

# Function composition
lastThree = reverse >> takeThree >> reverse
lastThree [1 to 8] #=> [6, 7, 8]
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var take, takeThree, reverse, lastThree, __slice = [].slice;
take = __curry(function(n, list){
  var x, xs;
  x = list[0], xs = __slice.call(list, 1);
  switch (false) {
  case !(n <= 0):
    return [];
  case !!list.length:
    return [];
  default:
    return [(x)].concat(take(n - 1, xs));
  }
});
take(2, [1, 2, 3, 4, 5]);
takeThree = take(3);
takeThree([3, 4, 5, 6, 7, 8]);
reverse = function(it){
  return it.reverse();
};
lastThree = __compose((__compose((reverse),(takeThree))),(reverse));
lastThree([1, 2, 3, 4, 5, 6, 7, 8]);

function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
function __compose(f, g){
  return function(){
    return f(g.apply(this, arguments)); 
  }
}
</pre>
        </div>
      </div>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Easy listing of implicit objects using asterisks
table1 =
  * id: 1
    name: \george
  * id: 2
    name: \mike
  * id: 3
    name: \donald






table2 =
  * id: 2
    age: 21
  * id: 1
    age: 20
  * id: 3
    age: 26




# Implicit arg, accessignment
upCaseName = -> it.name .= toUpperCase!

# Curried functions using -->
each = (f, list) -->
  for x in list then f x
  list






sortBy = (prop, list) --> list.sort (a, b) -> 
  | a[prop] < b[prop] => -1
  | a[prop] > b[prop] => 1
  | otherwise         => 0







# List comprehensions, destructuring, piping
[{id:id1, name, age} for {id:id1, name} in table1 for {id:id2, age} in table2 when id1 is id2]
|> sortBy \id
|> each upCaseName
|> JSON.stringify

#=>
#[{"id":1,"name":"GEORGE","age":20},
# {"id":2,"name":"MIKE",  "age":21},
# {"id":3,"name":"DONALD","age":26}]
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var table1, table2, upCaseName, each, 
  sortBy, id2, age, id1, name;
table1 = [
  {
    id: 1,
    name: 'george'
  }, {
    id: 2,
    name: 'mike'
  }, {
    id: 3,
    name: 'donald'
  }
];
table2 = [
  {
    id: 2,
    age: 21
  }, {
    id: 1,
    age: 20
  }, {
    id: 3,
    age: 26
  }
];
upCaseName = function(it){
  return it.name = it.name.toUpperCase();
};
each = __curry(function(f, list){
  var x, __i, __len;
  for (__i = 0, __len = list.length;
       __i < __len; ++__i) {
    x = list[__i];
    f(x);
  }
  return list;
});
sortBy = __curry(function(prop, list){
  return list.sort(function(a, b){
    switch (false) {
    case !(a[prop] < b[prop]):
      return -1;
    case !(a[prop] > b[prop]):
      return 1;
    default:
      return 0;
    }
  });
});
JSON.stringify(each(upCaseName)(sortBy('id')((function(){
  var __i, __ref, __len, __ref1, __j, __len1, __ref2, __results = [];
  for (__i = 0, __len = (__ref = table2).length; __i < __len; ++__i) {
    __ref1 = __ref[__i], id2 = __ref1.id, age = __ref1.age;
    for (__j = 0, __len1 = (__ref1 = table1).length; __j < __len1; ++__j) {
      __ref2 = __ref1[__j], id1 = __ref2.id, name = __ref2.name;
      if (id1 === id2) {
        __results.push({
          id: id1,
          name: name,
          age: age
        });
      }
    }
  }
  return __results;
}()))));

function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
</pre>
        </div>
      </div>
    </div>
    <hr>
    <div id="installation" class="section">
      <a name="installation"></a>
      <h2>Installation</h2>
      <p>To install LiveScript on your system, download it (<a href="https://github.com/gkz/LiveScript/zipball/0.9.4">zip</a>, <a href="https://github.com/gkz/LiveScript/tarball/0.9.4">tar.gz</a>), enter its directory, and run <code>sudo bin/slake install</code>. Using git to download: <code>git clone git://github.com/gkz/LiveScript.git && cd LiveScript && sudo bin/slake install</code>. <a href="http:/nodejs.org">Node.js</a> is required to be installed on your system.</p>
      <p>You can install it through the <a href="http://npmjs.org">Node Package Manager</a>: <code>sudo npm install -g LiveScript</code>.
      <p>You can also use it directly in the browser by including the file in <code>LiveScript/extras/livescript.js</code> via a script tag. In fact, this is how this page operates.</p>
    </div>
    <div id="editor-support" class="section">
      <a name="editor-support"></a>
      <h2>Text Editor Support</h2>
      <p>Vim users check out <a href="https://github.com/gkz/vim-ls">vim-ls</a>.
      <p>TextMate and Sublime Text bundle: <a href="https://github.com/paulmillr/LiveScript.tmbundle">LiveScript.tmbundle</a>.
    </div>

    <div id="usage" class="section">
      <a name="usage"></a>
      <h2>Usage</h2>
      <p>Usage: <code>livescript [options] [files] [arguments]</code></p>
      <h3>Options</h3>
      <table class="usage-options table table-striped table-bordered">
        <tr><td>-i, --interactive</td><td>start REPL; use ^J for multiline input</td></tr>
        <tr><td>-c, --compile</td><td>compile to JavaScript and save as .js files</td></tr>
        <tr><td>-o, --output DIR</td><td>compile into the specified directory</td></tr>
        <tr><td>-w, --watch</td><td>watch scripts for changes, and repeat</td></tr>
        <tr><td>-s, --stdin</td><td>read stdin</td></tr>
        <tr><td>-e, --eval</td><td>read command line arguments as script</td></tr>
        <tr><td>-r, --require FILE+</td><td>require libraries before executing</td></tr>
        <tr><td>-b, --bare</td><td>compile without the top-level function wrapper</td></tr>
        <tr><td>-p, --print</td><td>print the result to stdout</td></tr>
        <tr><td>-l, --lex</td><td>print the tokens the lexer produces</td></tr>
        <tr><td>-t, --tokens</td><td>print the tokens the rewriter produces</td></tr>
        <tr><td>-a, --ast</td><td>print the syntax tree the parser produces</td></tr>
        <tr><td>-j, --json</td><td>print/compile as JSON</td></tr>
        <tr><td>-n, --nodejs ARGS+</td><td>pass options through to the "node" binary</td></tr>
        <tr><td>-v, --version</td><td>display version</td></tr>
        <tr><td>-h, --help</td><td>display this</td></tr>
      </table>
    </div>
    <hr>
    <div id="reference" class="section">
      <a name="reference"></a>
      <h2>Reference</h2>
      <p>LiveScript uses whitespace to delimit blocks of code. Semicolons are not required to terminate expressions if you have a newline at the end. You also don't need to use parentheses when calling functions. Basic assignment is as you would expect, <code>variable = value</code>, and there is no need for variable declarations. However, unlike CoffeeScript, you must use <code>:=</code> to modify variables in upper scopes. Almost everything is an expression. The extension for LiveScript files is <code>.ls</code>. For differences from CoffeeScript, see the <a href="#coffee-to-ls">CoffeeScript to LiveScript Conversion Guide</a>.
      <p>You can double click any of the examples to load the LiveScript code into the compiler to the right, or you can play around and try out your own code. Press run to execute the compiled JavaScript. Note that LiveScript wraps compiled JS in a safety wrapper <code>(function(){...contents...}).call(this);</code> - this wrapper has been omitted in all examples and this page's compiler output for conciseness.
    </div>
    <div id="literals" class="section">
      <a name="literal"></a>
      <h2>Literals</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
## Numbers
42
17.34

# Underscores and letters are ignored
64_000km

# Any base can be used from 2 to 36
6~12
2~1000
16~ff

## Boolean
true
false
on
off
yes
no

## Undefined
void
undefined

## Strings
'a string'

# Strings without whitespace can be written with 
# a preceding backslash instead of quotes
\word

# Double quoted strings are interpolated
"The answer is #{2 + 2}"

# Variables can be interpolated without the braces
variable = "world"
"Hello #variable"

# Multiline strings
multiline = "string can be multiline 
            and go on and on 
            beginning whitespace is 
            ignored"
## Comments
# a single line comment starts with a #
/* multiline comments
   use this format and are preserved
   in the output unlike single line ones
*/

## Objects - braces are optional
person = 
  age:      23
  eyeColor: \green
  height:   180cm

# Dynamic keys
obj =
  "#variable": 234
  (person.eyeColor): false

# Flagging shorthand
{+debug, -live}

# This
this 
@
@location

## Regex
//
| [!=]==?             # equality
| @@                  # arguments
| <\[(?:[\s\S]*?\]>)? # words
//g

## Lists
[1, person.age, 'French Fries']

# Commas are not needed if the item
# preceding is non callable
[1 2 3 true void \word 'hello there']

# Implicit list
myList = 
  32 + 1
  person.height
  \beautiful

# Listing using asterisks
tree =
  * * 1 
    * * 2
      * 3
    * 4
  * * 5
    * 6
    * * 7
      * 8
      * * 9
        * 10
    * 11
 
# List of strings
<[ list of words ]>

# Ranges 
[2 to 20 by 3]
[4 til 6]
[\A to \D]

# Labels ':label'
:label 4 + 2
</pre>
        </div>
        <div class="example-js">
        <h5>JavaScript</h5>
<pre class="prettyprint lang-js">

42;
17.34;


64000;


8;
8;
255;


true;
false;
true;
false;
true;
false;


void 8; // evaluates to undefined
void 8;


'a string';



'word';
var variable, multiline, person, 
    obj, myList, tree, __ref;
"The answer is " + (2 + 2);


variable = "world";
"Hello " + variable;


multiline = "string can be multiline and go on and on beginning whitespace is ignored";




/* multiline comments
   use this format and are preserved
   in the output unlike single line ones
*/


person = {
  age: 23,
  eyeColor: 'green',
  height: 180
};

obj = (__ref = {}, __ref[variable + ""] = 234,
  __ref[person.eyeColor] = false, __ref);

({
  debug: true,
  live: false
});

this;
this;
this.location;


/|[!=]==?|@@|<\[(?:[\s\S]*?\]>)?/g;






[1, person.age, 'French Fries'];



[1, 2, 3, true, void 8, 'word', 'hello there'];


myList = [32 + 1, person.height, 'beautiful'];





tree = [[1, [2, 3], 4], 
  [5, 6, [7, 8, [9, 10]], 11]];












['list', 'of', 'words'];


[2, 5, 8, 11, 14, 17, 20];
[4, 5];
["A", "B", "C", "D"];

label: {
  4 + 2;
}
</pre>
        </div>
      </div>
    </div>
    <div id="conditions" class="section">
      <a name="conditions"></a>
      <h2>Conditions</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# A bit of setup
months = 12
week   = <[ sun mon tues wed thurs fri sat sun ]>
time   =
  days:  365
  hours: 8760



# Functions defined so that the example can run
doSomething = -> 'do nothing actually'
doOtherThing = -> 'do other thing'
doThirdThing = -> 'do third thing'



# As expected - 'else if' and 'else' are optional
# Meanings of == and === are reveresed from JS
if months == 12 
  doSomething()
else if time.hours === '8760'
  doOtherThing()
else 
  doThirdThing()

# 'is not' and 'isnt'
if time.days is not 366
and months isnt 13
then 'both not true!'

# Post 'if'
doSomething() if months is 12
  
# Chained comprehension
if time.hours < 500 < time.hours then doSomething()

# Formatting, 'if not', and 'in'
if \sun not in week 
then doSomething()
else doOtherThing()

# 'unless' is the same as 'if not', use of 'of'
doOtherThing() unless \hours of time

# 'that' implicitly refers to 
# the value of the condition
halfYear = that / 2 if time.days
</pre>
          </div>
          <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var months, week, time, doSomething, doOtherThing, 
    doThirdThing, that, halfYear;
months = 12;
week = ['sun', 'mon', 'tues', 'wed', 
        'thurs', 'fri', 'sat', 'sun'];
time = {
  days: 365,
  hours: 8760
};
doSomething = function(){
  return 'do nothing actually';
};
doOtherThing = function(){
  return 'do other thing';
};
doThirdThing = function(){
  return 'do third thing';
};
if (months === 12) {
  doSomething();
} else if (time.hours == '8760') {
  doOtherThing();
} else {
  doThirdThing();
}

if (time.days !== 366 && months !== 13) {
  'both not true!';
}


if (months === 12) {
  doSomething();
}
if (time.hours < 500 && 500 < time.hours) {
  doSomething();
}
if (!__in('sun', week)) {
  doSomething();
} else {
  doOtherThing();
}
if (!('hours' in time)) {
  doOtherThing();
}

if (that = time.days) {
  halfYear = that / 2;
}
function __in(x, arr){
  var i = 0, l = arr.length >>> 0;
  while (i < l) if (x === arr[i++]) return true;
  return false;
}
</pre>
          </div>
        </div>
    </div>
    <div id="functions" class="section">
      <a name="functions"></a>
      <h2>Functions</h2>
      <div class="example">
        <div class="example-ls">
        <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Functions auto return


# Defining functions
square = (x) -> x * x

# Functions defined this way are curried 
# by default
cube(x) = x * x * x
cube 2 #=> 8

# Extended parameters
setPersonParams = (
  person # target object to set params
  person.age
  person.height
) -> person

person = setPersonParams {}, 21, 180cm 
#=> {age: 12, height: 180}

# Bang call
util! #=> 'available above declaration'

# Creates named function
function util()
  'available above declaration'

# Parentheses free chaining
$ \h1 .find \a .text! #=> LiveScript

# Implicit argument using 'it'
length = -> it.length

# Do call, calls function with no arguments
do -> 42

# Suppress auto return
returnNothing = !(param) -> param
returnNothing \hello # returns nothing

!alsoReturnsNothing(param) = param


# Curried functions
times = (x, y) --> x * y
times 2, 3 #=> 6
timesTwo = times 2
timesTwo 4 #=> 8

alsoCurriedTimes(x, y) = x * y


# Short for (function(a){...}.call(this, b))
let $ = jQuery
  $.isArray [] #=> true

# Short for (function(){...}.call(x))
with person
  @age = 22

# With new context
dog = new
  @name = \spot
  @mutt = true

# Bound functions using ~> (wavy arrow)
thisParam = (param) ~> this[param]
# Bound functions have 'this' lexically bound,
# not dynamically bound as normally.
# Notice the __this = this at the top
# variable declarations in the JS. 
# Use ~~> for bound and curried functions
# or thisParam@(param) = this[param]
# using the alternate definition syntax.
</pre>
          </div>
          <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var square, cube, setPersonParams, person,
  length, returnNothing, alsoReturnsNothing,
  times, timesTwo, alsoCurriedTimes, dog,
  thisParam, __this = this;
square = function(x){
  return x * x;
};
cube = __curry(function(x){
  return x * x * x;
});
cube(2);

setPersonParams = function(person, age, height){
  person.age = age;
  person.height = height;
  return person;
};

person = setPersonParams({}, 21, 180);



util();


function util(){
  return 'available above declaration';
}

$('h1').find('a').text();

length = function(it){
  return it.length;
};
(function(){
  return 42;
})();

returnNothing = function(param){
  param;
};
returnNothing('hello');
alsoReturnsNothing = __curry(function(param){
  param;
});
times = __curry(function(x, y){
  return x * y;
});
times(2, 3);
timesTwo = times(2);
timesTwo(4);
alsoCurriedTimes = __curry(function(x, y){
  return x * y;
});
(function($){
  $.isArray([]);
}.call(this, jQuery));

(function(){
  this.age = 22;
}.call(person));

dog = new function(){
  this.name = 'spot';
  this.mutt = true;
};

thisParam = function(param){
  return __this[param];
};

function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
</pre>
          </div>
        </div>
    </div>
    <div id="loops" class="section">
      <a name="loops"></a>
      <h2>Loops and Comprehensions</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# For loops
# for (from) (to|til) (by) (when)
for i from 1 to 10 by 3
  i
# by is optional step value
# from is optional, if omitted 
# 'from 0' is implied
# when (alias case, |) optional guard

for val, i in [7 8 9]
  val 



for key, val of {one: 1, two: 2}
  key




# Comprehension
[x + 1 for x to 10 by 2 when x isnt 4]
#=> [1, 3, 7, 9, 11]







["#x#y" for x in [\a \b] for y in [1 2]]
#=> [ 'a1', 'a2', 'b1', 'b2' ]













# While
i = 0
while n < 9
  n = list[++i]

# until == while not
# while/until can also accept when guard
# else clause executes if loops doesn't run
i = 1
until n > 7 when n isnt 3
  n = list[++i]
else
  10



# do while loop
i = 0
do
  i++
while list[i] isnt 9 

# while accepts an updated clause
# can be postfix too
i = 0
while list[i] isnt 9, i++ then i

# while true
loop
  \ha
  break if ++i > 100

for ever
  \ha
  if ++i > 100
     break
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var i, val, key, x, y, n, __ref, __len, __run;

for (i = 1; i <= 10; i += 3) {
  i;
}




for (i = 0, __len = (__ref = [7, 8, 9]).length; 
    i < __len; ++i) {
  val = __ref[i];
  val;
}
for (key in __ref = {
  one: 1,
  two: 2
}) {
  val = __ref[key];
  key;
}
(function(){
  var __results = [];
  for (x = 0; x <= 10; x += 2) {
    if (x !== 4) {
      __results.push(x + 1);
    }
  }
  return __results;
}());
(function(){
  var __i, __ref, __len, __j, __ref1, 
    __len1, __results = [];
  for (__i = 0, 
      __len = (__ref = ['a', 'b']).length;
      __i < __len; ++__i) {
    x = __ref[__i];
    for (__j = 0,
        __len1 = (__ref1 = [1, 2]).length;
        __j < __len1; ++__j) {
      y = __ref1[__j];
      __results.push(x + "" + y);
    }
  }
  return __results;
}());
i = 0;
while (n < 9) {
  n = list[++i];
}



i = 1;
while (!(n > 7)) {
  __run = true;
  if (n !== 3) {
    n = list[++i];
  }
} if (!__run) {
  10;
}
i = 0;
do {
  i++;
} while (list[i] !== 9);



i = 0;
for (; list[i] !== 9; i++) {
  i;
}
for (;;) {
  'ha';
  if (++i > 50) {
    break;
  }
}
for (;;) {
  'ha';
  if (++i > 100) {
    break;
  }
}
</pre>
        </div>
      </div>
    </div>
    <div id="switch" class="section">
      <a name="switch"></a>
      <h2>Switch</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Auto breaks, multiple conditions
switch 6
case 1   then \hello
case 2 4 then \boom
case 6   
  'here it is'
default \something







# Switch on nothing switches on true
switch
case 5 == 6 
  \never
case false
  'also never'
case 6 / 2 is 3
  'here'

# Fallthrough
# works if last expression of case block
# is 'fallthrough'
result = switch 6
case 6 
  something = 5
  fallthrough
case 4
  'this is it'

result is 'this is it' #=> true

# Alternate syntax using | and =>
switch 'moto' 
| "some thing"     => \hello
| \explosion \bomb => \boom
| <[ the moto ? ]> => 'here it is'
| otherwise        => \something










# Implicit switch after ->, ~>, :, =
func = (param) ->
  | param.length < 5 => param.length
  | otherwise        => param.slice 3

func 'hello' #=> lo




# CoffeeScript style switches work fine too
day = \Sun
switch day
  when "Mon" then 'go to work'
  when "Tue" then 'go to a movie'
  when "Thu" then 'go drinking'
  when "Fri", "Sat"
      'go dancing'
  when "Sun" then 'drink more'
  else 'go to work'
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var something, result, func, day;
switch (6) {
case 1:
  'hello';
  break;
case 2:
case 4:
  'boom';
  break;
case 6:
  'here it is';
  break;
default:
  'something';
}
switch (false) {
case 5 !== 6:
  'never';
  break;
case !false:
  'also never';
  break;
case 6 / 2 !== 3:
  'here';
}
result = (function(){
  switch (6) {
  case 6:
    something = 5;
    // fallthrough
  case 4:
    return 'this is it';
  }
}());
result === 'this is it';

switch ('moto') {
case "some thing":
  'hello';
  break;
case 'explosion':
case 'bomb':
  'boom';
  break;
case 'the':
case 'moto':
case '?':
  'here it is';
  break;
default:
  'something';
}
func = function(param){
  switch (false) {
  case !(param.length < 5):
    return param.length;
  default:
    return param.slice(3);
  }
};
func('hello');

day = 'Sun';
switch (day) {
case "Mon":
  'go to work';
  break;
case "Tue":
  'go to a movie';
  break;
case "Thu":
  'go drinking';
  break;
case "Fri":
case "Sat":
  'go dancing';
  break;
case "Sun":
  'drink more';
  break;
default:
  'go to work';
}

</pre>
        </div>
      </div>
    </div>
    <div id="operators" class="section">
      <a name="operators"></a>
      <h2>Operators</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
n = 0




## Math
# The standard
1 + 2 #=> 3
3 - 4 #=> -1
6 * 2 #=> 12
8 / 4 #=> 2

-3 % 4  #=> -3
-3 %% 4 #=> 1

n++    #=> 1
++n    #=> 2
n = -n #=> -2
n = +n #=> 2
n--    #=> 1
--n    #=> 0

+'23'  #=> 23

# Power - right associative,
# higher precedence than unary ops
2 ** 4     #=> 16
3 ^ 4      #=> 81
-2 ^ 2 ^ 3 #=> -256

## Bitwise and shifts
14 &&& 9   #=> 8
14 ||| 9   #=> 15
14 ^^^ 9   #=> 7
~9         #=> -10
9 <<<<< 2  #=> 36
-9 >>>> 2  #=> -3
-9 >>>>> 2 #=> 1073741821

## Comparison
# Strict equals
2 + 4 == 6      #=> true
\boom is 'boom' #=> true

# Fuzzy Equals
2 === '2'       #=> true

# Strict not equals
\boom != null   #=> true
2 + 2 is not 4  #=> false
n + 1 isnt 1    #=> false

# Fuzzy not equals
\1 !== 1        #=> false

# Greater/less than
2 < 4           #=> true
9 > 7           #=> true
8 <= 8          #=> true
7 >= 8          #=> false

# Chained comparison
1 < 2 < 4        #=> true
1 < 2 == 4/2 > 0 #=> true

## Logic
true and false #=> false
true && false  #=> false

true or false  #=> true
true || false  #=> true

not false      #=> true
!false         #=> true

## In/Of
2 in [1 2 3 4 5] #=> true
\id of {id: 23, name: \rogers} #=> true


## Pipe
# |> turns 'val |> func' into 'func(val)'
reverse = -> it.reverse!
[1 2 3] |> reverse #=> [3, 2, 1]


# <| turns 'func <| val' into 'func(val)'
# useful for avoiding parens
add = (x, y) --> x + y
add 4 <| 5 #=> 9 - instead of add(4) 5

# |>> pipes left result to the right using _
+'2' |>> _ ^ 2 |>> _.toString! #=> '4'

## Function composition
# '(f >> g) x' is 'g(f(x))' 
# '(f << g) x' is 'f(g(x))'
addTwo   = add 2
timesTwo = -> it * 2

addTwoTimesTwo = addTwo >> timesTwo
timesTwoAddTwo = addTwo << timesTwo

addTwoTimesTwo 3 #=> 10
timesTwoAddTwo 3 #=> 8

## List 
list1 = <[ one two three ]>
list2 = [\four]

# Concat
list1 +++ list2 #=> ['one', 'two', 'three', 'four']

# Cons
\zero & list1   #=> ['zero', 'one', 'two', 'three']

# Concat when first is list literal
[1] + list2     #=> [1, 'four']

# List repetition when first is list literal
[\ha] * 3       #=> ['ha', 'ha', 'ha']

# Join when right operand is a string literal
list1 * \,      #=> 'one,two,three'

# Unary spread
# when right is list literal, apply to each item
neg = -[4 5 6]  #=> [-4, -5, -6]

## String
'hello' + ' ' + 'world' #=> 'hello world'
string = 'say '         #=> 'say '
string += \yeah         #=> 'say yeah'

# String repetition when first is string literal
'X' * 3      #=> 'XXX'

# String subtraction/division when
# right is string or regex literal
string - /h/ #=> 'say yea'
string / \y  #=> ['sa', ' ', 'eah']

## Min/max - return greater or lesser value
4 >? 8     #=> 8
9 - 5 &lt;? 6 #=> 4

## Existence/Inexistence 
bigfoot ? 'grizzly bear'         #=> 'grizzly bear'
string = \boom if n?             #=> 'boom'
string = 'say yeah' if bigfoot!? #=> 'say yeah'

document?.title                  #=> 'LiveScript'







## instanceof - list literal to right gets expanded
new Date() instanceof Date           #=> true
new Date() instanceof [Date, Object] #=> true

## typeof
typeof /^/  #=> object
typeof! /^/ #=> RegEx

## delete - returns original value
obj = {one: 1, two: 2} 
one = delete obj.one
one #=> 1

## Property copy
# copy enumerable properties from right to left,
# return left value
# <<< for own properties
# import and importAll are aliases
obj <<< three: 3
obj #=> {two: 2, three: 3}
{go: true} <<<< window
document import obj

## Clone - unary, creates prototypical child value
child = ^(new String)
child.length #=> 0
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var n, reverse, add, addTwo, timesTwo, 
  addTwoTimesTwo, timesTwoAddTwo, list1, list2,
  neg, string, obj, one, child, __ref, _, 
  __slice = [].slice, __join = [].join, 
  __replace = ''.replace, __split = ''.split,
  __toString = {}.toString;
n = 0;
1 + 2;
3 - 4;
6 * 2;
8 / 4;

-3 % 4;
((-3) % (__ref = 4) + __ref) % __ref;

n++;
++n;
n = -n;
n = +n;
n--;
--n;

+'23';



Math.pow(2, 4);
Math.pow(3, 4);
-Math.pow(2, Math.pow(2, 3));


14 & 9;
14 | 9;
14 ^ 9;
~9;
9 << 2;
-9 >> 2;
-9 >>> 2;



2 + 4 === 6;
'boom' === 'boom';


2 == '2';


'boom' !== null;
2 + 2 !== 4;
n + 1 !== 1;


'1' != 1;


2 < 4;
9 > 7;
8 <= 8;
7 >= 8;


1 < 2 && 2 < 4;
1 < 2 && 2 === (__ref = 4 / 2) && __ref > 0;


true && false;
true && false;

true || false;
true || false;

!false;
!false;


2 == 1 || 2 == 2 || 2 == 3 || 2 == 4 || 2 == 5;
'id' in {
  id: 23,
  name: 'rogers'
};
reverse = function(it){
  return it.reverse();
};
reverse([1, 2, 3]);

add = __curry(function(x, y){
  return x + y;
});
add(4)(5);

_ = +'2';
_ = Math.pow(_, 2);
_.toString();


addTwo = add(2);
timesTwo = function(it){
  return it * 2;
};
addTwoTimesTwo = __compose((timesTwo),(addTwo));
timesTwoAddTwo = __compose((addTwo),(timesTwo));

addTwoTimesTwo(3);
timesTwoAddTwo(3);


list1 = ['one', 'two', 'three'];
list2 = ['four'];


(list1).concat(list2);


[('zero')].concat(list1);


[1].concat(__slice.call(list2));


['ha', 'ha', 'ha'];


__join.call(list1, ',');



neg = [-4, -5, -6];


'hello' + ' ' + 'world';
string = 'say ';
string += 'yeah';


'XXX';



__replace.call(string, /h/, '');
__split.call(string, 'y');


4 > 8 ? 4 : 8;
(__ref = 9 - 5) < 6 ? __ref : 6;

(typeof bigfoot == 'undefined' || 
bigfoot === null) && 'grizzly bear';
if (n != null) {
  string = 'boom';
}
if (typeof bigfoot == 'undefined' || 
bigfoot === null) {
  string = 'say yeah';
}
if (typeof document != 'undefined' &&
document !== null) {
  document.title;
}

new Date() instanceof Date;
(__ref = new Date()) instanceof Date || 
__ref instanceof Object;

typeof /^/;
__toString.call(/^/).slice(8, -1);

obj = {
  one: 1,
  two: 2
};
one = obj.one, delete obj.one;
one;




obj.three = 3;
obj;
__importAll({
  go: true
}, window);
__import(document, obj);
child = __clone(new String);
child.length;

function __curry(f, args){
  return f.length ? function(){
    var params = args ? args.concat() : [];
    return params.push.apply(params, arguments) < f.length ?
      __curry.call(this, f, params) : f.apply(this, params);
  } : f;
}
function __importAll(obj, src){
  for (var key in src) obj[key] = src[key];
  return obj;
}
function __import(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
function __clone(it){
  function fun(){} fun.prototype = it;
  return new fun;
}
</pre>
        </div>
      </div>
    </div>
    <div id="assignment" class="section">
      <a name="assignment"></a>
      <h2>Assignment</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Basic
x = 10

# Nondeclaring assignment using :=
# := must be used to modify variables
# in upper scopes unlike in CoffeeScript
do ->
  x = 5
x #=> 10

do ->
  x := 2
x #=> 2

# Compound assign
# (no compound assign for bitwise ops)
x += 2   #=> 4
x -= 1   #=> 3
x *= 3   #=> 9
x /= 3   #=> 3
x %= 3   #=> 0
x %%= 3  #=> 0
x &lt;?= -1 #=> -1
x >?= 2  #=> 2
x **= 2  #=> 4
x ^= 2   #=> 16

x ?= 10
x        #=> 16
x !?= 8
x        #=> 8

x ||= 5  #=> 8
x &&= 5  #=> 5

# ?, !?, ||, or && can prefix any 
# compound assign
x &&+= 3 #=> 8
x ?*= 2
x        #=> 8

# Unary assignment
y = \45
+  = y   #=> 45   (make into number)
!! = y   #=> true (make into boolean)
-~-~ = y #=> 3    (int-coercing double crement)

# Assignment defaults
# can use || && ? !?
x ? y = 10
y        #=> 10

# Can use = isntead of ? in function parameters
f = (z = 7) -> z
f 9      #=> 9
f!       #=> 7



f = (z && 5) -> z
f!       #=> (nothing)
f 3      #=> 5

# Destructering
one = \boom
two = \lala
list = [one, two] #=> ['boom', 'lala']
[two, one] = list #=> ['lala', 'boom']

[first, ...middle, last] = [1 to 5]
first  #=> 1
middle #=> [2, 3, 4]
last   #=> 5

mitch =
  age:    21
  height: 180cm
  pets:    [\dog, \goldfish]
  fam:
    bro: \phile

{age, height, pets: [pet1, pet2], fam: {bro}} = mitch
height #=> 180
bro    #=> 'phile'
pet1   #=> 'dog'

# You can also rename things via :label
{height:tallness} = mitch
tallness #=> 180

# Subdestructering - works with lists and objects
phile = {}
phile{height, pets} = mitch
phile.height #=> 180
phile.pets   #=> ['dog', 'goldfish']

# Soak assign - performs assign only 
# if right side value exists
x? = age     
x #=> 21
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var x, y, f, one, two, list, first, middle, last, 
  mitch, age, height, pet1, pet2, bro, tallness,
  phile, __ref, __i, __slice = [].slice;

x = 10;

(function(){
  var x;
  return x = 5;
})();
x;
(function(){
  return x = 2;
})();
x;

x += 2;
x -= 1;
x *= 3;
x /= 3;
x %= 3;
x = ((x) % (__ref = 3) + __ref) % __ref;
x <= (__ref = -1) || (x = __ref);
x >= 2 || (x = 2);
x = Math.pow(x, 2);
x = Math.pow(x, 2);

x == null && (x = 10);
x;
x != null && (x = 8);
x;

x || (x = 5);
x && (x = 5);



x && (x += 3);
x == null && (x *= 2);
x;


y = '45';
y = +y;
y = !!y;
y = -~-~y;



x == null && (y = 10);
y;

f = function(z){
  z == null && (z = 7);
  return z;
};
f(9);
f();
f = function(z){
  z && (z = 5);
  return z;
};
f();
f(3);
one = 'boom';
two = 'lala';
list = [one, two];
two = list[0], one = list[1];
__ref = [1, 2, 3, 4, 5], first = __ref[0], middle = 1 < (__i = __ref.length - 1) ? __slice.call(__ref, 1, __i) : (__i = 1, []), last = __ref[__i];
first;
middle;
last;
mitch = {
  age: 21,
  height: 180,
  pets: ['dog', 'goldfish'],
  fam: {
    bro: 'phile'
  }
};
age = mitch.age, height = mitch.height, __ref = mitch.pets, pet1 = __ref[0], pet2 = __ref[1], bro = mitch.fam.bro;
height;
bro;
pet1;
tallness = mitch.height;
tallness;

phile = {};
phile.height = mitch.height, phile.pets = mitch.pets;
phile.height;
phile.pets;


if (age != null) {
  x = age;
}
x;
</pre>
        </div>
      </div>
    </div>
    <div id="property-access" class="section">
      <a name="property-access"></a>
      <h2>Property Access</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
# Standard
[1 2 3][1]     #=> 2
{a: 1, b: 2}.b #=> 2

# Dot Access - dot operators can accept many
# more things other than identifiers as their
# right operand, including numbers, strings,
# parentheses, brackets, and braces
x = "hello world": [4 [5 boom: 6]]
x.'hello world'.1.[0] #=> 5






# Accessignment using .=
document.title .= toUpperCase! #=> LIVESCRIPT

# Array slice
list = [1 2 3 4 5]
list[2, 4]    #=> [3, 5]
list[1 to 3]  #=> [2, 3, 4]
list[1 til 3] #=> [2, 3]
list[1 til 3] = [7, 8]
list          #=> [1, 7, 8, 4, 5]




# Object slice
obj = one: 1, two: 2
obj{first: one, two} #=> {first: 1, two: 2}

# Length star [*]
list[*] = 6
list        #=> [1, 2, 3, 4, 5, 6]
list[*-1]   #=> 6

# Semiautovivification .@ .@@
# ensures that the property exists 
# as an object or as an array
x.@@'hello world'.1.@1.boom #=> 6
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var x, list, obj, __ref;
[1, 2, 3][1];
({
  a: 1,
  b: 2
}).b;
x = {
  "hello world": [
    4, [
      5, {
        boom: 6
      }
    ]
  ]
};
x['hello world'][1][0];

document.title = document.title.toUpperCase();


list = [1, 2, 3, 4, 5];
[list[2], list[4]];
[list[1], list[2], list[3]];
[list[1], list[2]];
__ref = [7, 8], list[1]=__ref[0], list[2]=__ref[1];
list;

obj = {
  one: 1,
  two: 2
};
({
  first: obj.one,
  two: obj.two
});
list[list.length] = 6;
list;
list[list.length - 1];



((__ref = (x['hello world'] || (x['hello world'] = []))[1])[1] || (__ref[1] = {})).boom;
</pre>
        </div>
      </div>
    </div>
    <div id="oop" class="section">
      <a name="oop"></a>
      <h2>OOP</h2>
      <div class="example">
        <div class="example-ls">
          <h5>LiveScript</h5>
<pre class="prettyprint lang-ls">
class Item
  # constructor
  ->
    @id = Math.random!

  # properties and methods
  type   : \unknown
  getName: -> @name ? @id
 
class Box extends Item
  (@name) ->
    super ...

  type: \cube
 
  # any code
  priv    = \secret
  @static = -> priv

thing = new Box \boxy
thing.getName! #=> \boxy
thing.id       #=> (some random number)
thing.type     #=> 'cube'
thing.priv     #=> (nothing)
Box.static!    #=> 'secret'
Box::type = \block 
thing.type     #=> 'block' 
</pre>
        </div>
        <div class="example-js">
          <h5>JavaScript</h5>
<pre class="prettyprint lang-js">
var Item, Box, thing;
Item = (function(){
  Item.displayName = 'Item';
  var prototype = Item.prototype, constructor = Item;
  function Item(){
    this.id = Math.random();
  }
  prototype.type = 'unkown';
  prototype.getName = function(){
    var __ref;
    return (__ref = this.name) != null
      ? __ref
      : this.id;
  };
  return Item;
}());
Box = (function(superclass){
  Box.displayName = 'Box';
  var priv, prototype = __extend(Box, superclass).prototype, constructor = Box;
  function Box(name){
    this.name = name;
    superclass.apply(this, arguments);
  }
  prototype.type = 'cube';
  priv = 'secret';
  Box['static'] = function(){
    return priv;
  };
  return Box;
}(Item));
thing = new Box('boxy');
thing.getName();
thing.id;
thing.type;
thing.priv;
Box['static']();
Box.prototype.type = 'block';
thing.type;

function __extend(sub, sup){
  function fun(){} fun.prototype = (sub.superclass = sup).prototype;
  (sub.prototype = new fun).constructor = sub;
  if (typeof sup.extended == 'function') sup.extended(sub);
  return sub;
}
</pre>
        </div>
      </div>
    </div>
    <hr>
    <div class="section" id="coffee-to-ls">
      <a name="coffee-to-ls"></a>
      <h2>CoffeeScript to LiveScript Conversion Guide</h2>
      <ul>
        <li>Change all your fat arrows <code>=></code> to wavy arrows <code>~></code>
        <li>Change all your block comments <code>### ###</code> to <code>/* */</code>
        <li>Change any range syntax creating lists from <code>[x..y]</code> to <code>[x to y]</code> and change <code>[x...y]</code> to <code>[x til y]</code>
        <li>Similarly, change any range syntax in for loops from <code>for i in [x..y]</code> to <code>for i from x to y</code> and change <code>for i in [x...y]</code> to <code>for i from x til y</code>
        <li>Change any list comprehensions from <code>(x for x in list)</code> to <code>[x for x in list]</code>. Any postfix loops which you do not want returning a list, change to not postfixed, eg. change <code>increase x for x in list</code> to <code>for x in list then increase x</code>. You can shave characters if you wish by using the alias to <code>then</code>, the fat arrow <code>=></code>
        <li>Change any number literals starting with a dot, eg. <code>.5</code> to start with a zero <code>0.5</code>
        <li>Change any regular expression literals from <code>/// ///</code> to <code>// //</code>
        <li>Change any splats you are using from <code>(args...) -></code> to be prefixed like <code>(...args) -></code>
        <li>Remove the parentheses from function definitions with no parameters, <code>() -></code> simply becomes <code>-></code> - this is because <code>()</code> is always a call.
        <li>Change your constructor functions in your classes from being defined as 
<pre>
class Item
  constructor: ->
</pre> to simply being functions at the top level of your class body, eg.
<pre>
class Item
  -> 
</pre>
        <li>Change any calls to super from <code>super</code> to <code>super ...</code> - this is because <code>super</code> is a direct reference to the parent function rather than a call itself.
        <li>Change any bitwise operators you are using according to the <a href="#comparison-table">comparison table</a> (eg. <code>&</code> changes to <code>&&&</code>)
        <li>If you are modifying variables in upper scopes at any time, eg.
<pre>
x = 10
do ->
  x = 5
</pre> you must use <code>:=</code> instead of just <code>=</code> as that will declare a new (shadowing) variable in LiveScript. Thus, the above code would need to be
<pre>
x = 10
do ->
  x := 5
</pre> if you wanted to modify <code>x</code>
      <li>If you are using nested list comprehensions (eg. <code>(x + y for x in [1, 2] for y in [3, 4])</code>, you will need to change how you handle the result as instead of being a lists within a list as in CoffeScript (the result of the example would be <code>[[4,5],[5,6]]</code>), the result is flattened (the result of the example in LiveScript would be <code>[4,5,5,6]</code>) 
      <li>Change the name of any of your variables named <code>it</code>, <code>that</code>, <code>fallthrough</code>, or <code>otherwise</code>. Those are terrible names for variables so you should change them anyway. This technically isn't required in all cases, but will be less confusing if you do so in all cases. <code>it</code> is used as the implicit argument of functions defined with no parameters, eg. <code>reverse = -> it.reverse!</code>. <code>that</code> refers to the value of the condition, for instance <code>that + 2 if (x + 10)/(y - 18)</code>, <code>that == (x + 10)/(y-18)</code>. <code>fallthrough</code>, if used at the end of a case block makes that block fallthrough to the next case. <code>otherwise</code>, if used directly after case, turns that case into default.
      <li>If you have any multiline strings non triple quoted strings (using <code>"string"</code> or <code>'string'</code>), eg.
<pre>
text = "hi 
        there"
</pre> you will have to change them as in CoffeeScript this would be <code>"hi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there"</code> while LiveScript ignores indentation after newlines so it would be <code>"hi there"</code>
      <li><code>and</code>, <code>or</code> and spaced <code>.</code> and <code>?.</code> close implicit calls, so you will have to change any code involving those where you have depended on CoffeeScript to not close the call. Eg. <code>f a .g b or h c</code> would be <code>f(a.g(b || h(c)))</code> in CoffeeScript and <code>f(a).g(b) || h(c)</code> in LiveScript.
      <li>Change any <code>do</code>s special casing function literals to using <code>let</code>. Eg. in CoffeScript <code>do ($ = jQuery) -> $</code> change to
<pre>
let $ = jQuery
  $
</pre>
      <li>Change any implicit calls against blocks starting with an implicit objects to use <code>do</code>. Eg. change 
<pre>
f
  a: b
</pre> into
<pre>
f do
  a: b
</pre>
      </ul>
    </div>
    <div id="comparison-table" class="section">
      <a name="comparison-table"></a>
      <h2>Comparison Table</h2>
      <table class="table table-bordered table-striped">
        <tr>
          <th></th><th>CoffeeScript</th><th>Coco</th><th>LiveScript</th>
        </tr>
        <tr>
          <td>Command Line</td><td>coffee</td><td>coco</td><td>livescript</td>
        </tr>
        <tr>
          <td>Build</td><td>cake</td><td>coke</td><td>slake</td>
        </tr>
        <tr>
          <td>File Extension</td><td>.coffee</td><td>.co</td><td>.ls</td>
        </tr>
        <tr>
          <td>Strict Equality</td><td>== OR is</td><td>=== OR is</td><td>== OR is</td>
        </tr>
        <tr>
          <td>Strict Inequality</td><td>!= OR isnt</td><td>!== OR is not</td><td>!= OR is not OR isnt</td>
        </tr>
        <tr>
          <td>Fuzzy Equality</td><td>N/A</td><td>==</td><td>===</td>
        </tr>
        <tr>
          <td>Power Operator</td><td>N/A</td><td>**</td><td>** OR ^</td>
        </tr>
        <tr>
          <td>Pipe Operator using _</td><td>N/A</td><td>=></td><td>|>></td>
        </tr>
        <tr>
          <td>Pipe Operator using calls</td><td>N/A</td><td>N/A</td><td>|></td>
        </tr>
        <tr>
          <td>Bitwise &</td><td>&</td><td>&</td><td>&&&</td>
        </tr>
        <tr>
          <td>Bitwise |</td><td>|</td><td>|</td><td>|||</td>
        </tr>
        <tr>
          <td>Bitwise ^</td><td>^</td><td>^</td><td>^^^</td>
        </tr>
        <tr>
          <td>Bitwise &lt;&lt;</td><td>&lt;&lt;</td><td>&lt;&lt;</td><td>&lt;&lt;&lt;&lt;&lt;</td>
        </tr>
        <tr>
          <td>Bitwise >></td><td>>></td><td>>></td><td>>>>></td>
        </tr>
        <tr>
          <td>Bitwise >>></td><td>>>></td><td>>>></td><td>>>>>></td>
        </tr>
        <tr>
          <td>In</td><td>in</td><td>of</td><td>in</td>
        </tr>
        <tr>
          <td>Of</td><td>of</td><td>in</td><td>of</td>
        </tr>
        <tr>
          <td>Case</td><td>when</td><td>case</td><td>case OR | OR when</td>
        </tr>
        <tr>
          <td>Then</td><td>then</td><td>then</td><td>then OR =></td>
        </tr>
        <tr>
          <td>List Concat</td><td>xs.concat ys</td><td>xs.concat ys</td><td>xs +++ ys</td>
        </tr>
        <tr>
          <td>Cons</td><td>[x].concat ys</td><td>[x].concat ys</td><td>x & ys</td>
        </tr>
      </table>
    </div>
    <div id="speed" class="section">
      <a name="speed"></a>
      <h2>Speed</h2>
      <p>Harder, better, <strong>faster</strong>, stronger.
      <h5>CoffeeScript (1.3.1)</h5>
<pre>
$ cake bench
Lex     1365 ms (24146 tokens)
Rewrite  120 ms (26886 tokens)
Parse    277 ms
Compile  189 ms (149436 chars)
total   1951 ms
</pre>
      <h5>LiveScript</h5>
<pre>
$ slake bench
Lex      241 ms (27289 tokens)
Rewrite   98 ms (32717 tokens)
Parse    266 ms (27910 nodes)
Compile  246 ms (181132 chars)
TOTAL    851 ms
</pre>
      <p>For more improvements see <a href="https://github.com/satyr/coco/wiki/improvements">Coco's list of improvements</a>.
    </div>
    <div class="section" id="changes">
      <a name="changes"></a>
      <h2>Changes from Coco: Detail and Rationale</h2>
      <ul>
      <li>Renamed everything from Coco and Coke to LiveScript and Slake, and file extension from .co to .ls. Rationale for names chosen: LiveScript was the name of JavaScript before it was named JavaScript - thus it seemed like an appropriate name, also few if any other projects are named LiveScript. Slake because lake was taken and lsake sounds bad. 
      <li>Switched so that <code>==</code> compiles into <code>===</code> and the converse, and also for the negatives. Rationale: Most people would want to use the JavaScript <code>===</code> more often than <code>==</code> and less typing is better, also this makes things more similar to CoffeeScript which compiles <code>==</code> to <code>===</code> so there is less code for people to change coming from CoffeeScript. The compilation of <code>is</code> to <code>===</code> stays the same.
      <li>Switched <code>in</code> and <code>of</code> so that they are like in CoffeeScript. In goes over values, of over keys. Rationale: People have to change less of their CoffeeScript code, they're used to it, and using <code>in</code> for checking if a value is in an array just seems right, using <code>of</code> just feels weird.
      <li>All bitwise operators except <code>~</code> have changed to triple themselves and shifts have also expanded, eg. <code>&amp;</code> is now <code>&amp;&amp;&amp;</code> (see comparison table for full changes). Bitwise assign equals (eg. <code>&amp;=</code>) have been removed. Rationale: People rarely use the bitwise operators all the time, they are not efficient since they must convert from floating points to integers and back, and they take up valuable symbols that could be used for other purposes. They are still available, just in a longer form. <code>~</code> is still there as is. The way the bitwise operators have changed is modelled after how they are done in F#, a functional language which happens to have them unlike most functional languages. Note: the unary ^ clone operator is unchanged.
      <li><code>=></code>, the pipe operator using _, is now <code>|>></code>. Free up => (for then alias), (<code>|</code> is used as an alias for case).
      <li><code>|</code> is an alias for <code>case</code> (used in switch) Rationale: less typing, looks good. Modelled after Haskell's guards.
      <li><code>=></code> is an alias for <code>then</code>. Rationale: will not be encouraged for use in if statements as it looks slightly odd - really for use in switch statements, when combined with <code>|</code>, to create a succinct and easy to understand structure. Based off of Haskell's use of -> in case expressions.  
      <li>Added <code>otherwise</code> as a contextual keyword, when used after <code>case</code> or <code>|</code>, making that the default statement. Rationale: same as in Haskell. It allows <code>| otherwise => 4 + 9</code>, which fits in with the rest of the structure.
      <li>Added implicit <code>switch</code> after <code>-></code>, <code>~></code>, <code>:</code>, or an assign when they are followed by case tokens (either <code>case</code> or <code>|</code>). Rationale: reduces typing and increases beauty in a common situation for using a switch, with no increase in ambiguity. 
      <li>Added list concat operator, <code>+++</code>. Eg. <code>xs +++ ys</code> is <code>xs.concat(ys)</code>. Rationale: less typing, more beautiful, inspired by the ++ function in Haskell (had to use 3 pluses in order to avoid ambiguity with increment operator.)
      <li>Added cons operator, <code>&amp;</code>. It sticks the first item to the start of the second item (a list, or not, making a list). Eg. <code>x &amp; ys</code> is <code>[x].concat(ys)</code>. Rationale: less typing, beauty, inspired by Haskell's <code>:</code> function.
      <li><code>^</code> is now an alias to <code>**</code>, the power operator. Rationale: it was available, and is used in other languages. 
      <li>Power precedence is now proper, and the power operator has precedence over multiplication and division. It also has higher precedence than unary ops. Eg. 2*4^2 == 32, not 64 as in Coco. Also, -2^2 == -4. Rationale: math should work properly - this is how it's done in many languages including Haskell. 
      <li>Power operator is now right associative. eg. 2^2^3 == 2^(2^3) == 256. Rationale: follwing Haskell's and many other languages lead on this one.
      <li>Added magic auto curried functions, defined using <code>--></code> and <code>~~></code>. With this you can do <code>times = (x, y) --> x * y</code>, <code>timesTwo = times 2</code>, <code>timesTwo 4 #=> 8</code>. Rationale: more Haskell like, useful functionality. 
      <li>Added new function definition syntax, eg. <code>add(x, y) = x + y</code> == <code>add = (x, y) --> x + y</code>. You can also use it in object literals and class definitions eg. <code>add(x, y): x + y</code> == <code>add: (x, y) --> x + y</code>. You can also suppress return on both by starting with a bang, eg. <code>!nothingness(params) = true</code> will not return anything. As well you can have lexically bound this using <code>id@(param) = something</code> which is suger for <code>id = (param) ~~> something</code> (notice the wavy arrow). You can go crazy and do something like this if you wish: <code>@!func@! = something</code> which is a function assigned to this, which takes no parameters and returns nothing, while being lexically bound to this. All functions defined using this syntax are curried. Rationale: more beautiful, less typing, more Haskell like.
      <li>Added <code>obj ::= obj2</code> as alias to <code>obj::&lt;&lt;&lt;obj2</code>. Rationale: seems to be the intuitive behavior expected, looks cleaner.
      <li>Added <code>yes / on</code> as aliases to <code>true</code> and <code>no / off</code> as aliases to <code>false</code>. Added <code>undefined</code> as an alias to <code>void</code>, and aliased <code>isnt</code> to <code>is not</code>. Rationale: ease transition from CoffeeScript, which has all these features, to LiveScript. 
      <li>Added <code>when</code> as alias to <code>case</code> (and <code>|</code>). Rationale: ease transition from CoffeeScript. 
      <li>Allowed guards in loops using case statement, eg. <code>x for x from 1 to 10 when x % 2 is 0</code>. Rationale: ease transition from CoffeeScript and have guards in comprehensions like other languages (Haskell).
      <li>Added the use of <code>else</code> for default in switch. Rationale: ease transition from CoffeeScript.
      <li>Added <code>loop</code> as alias for <code>while true</code>. Rationale: ease transition from CoffeeScript. 
      <li>Added pipe operator <code>|></code> ala F#, <code>val |> func</code> is the same as <code>func(val)</code>. Very useful in combination with curried functions. Rationale: useful, as in F#.
      <li>Added backwards pipe operator <code><|</code> ala F#: <code>f <| x</code> is the same as <code>f x</code>. This is more useful than it looks, and can help you avoid parens. For instance for a definition of toCase that returns a function that either uppercases or lowercases a word, <code>toCase \up <| \hello</code> rather than <code>toCase(\up) \hello</code>. Rationale: useful as per above, as in F#.
      <li>Added function composition operators ala F#. <code>&gt;&gt;</code> and <code>&lt;&lt;</code>. <code>(f &gt;&gt; g) x</code> is <code>g(f(x))</code> and <code>(f &lt;&lt; g) x</code> is <code>f(g(x))</code>. Rationale: very useful, especially with curried functions. As in F# (and Haskell, there it's the dot operator).
      <li>Added <code>%%</code> operator (and corresponding <code>%%=</code> operator), <code>x %% y</code> is <code>(x % y + y) % y</code>. Eg. <code>-3 % 4 == -3; -3 %% 4 == 1</code>. Rationale: this is how the <code>%</code> op behaves in other languages such as Python and Ruby.
      <li>Changed number base format from <code>7r4</code> to <code>7~4</code>. This is because using <code>r</code> causes ambiguity with number comments. For instance, <code>36rpm</code> - is that the number <code>36</code> with the number comment <code>rpm</code> or is it <code>pm</code> base <code>36</code> (922). Also now accept any number as radix, so that a better error can be thrown when that radix is not 2-36. Rationale: fixes ambiguity.
      <li>Allowed expression in range syntax, eg. <code>[x to y/2]</code> instead of just number literals. This has the side effect of removing naked ranges, eg. <code>2 to 5</code> without enclosing brackets (for loops remain unchanged). Rationale: expressions in ranges are useful, much more than naked ranges which have really limited use. Also closer to CoffeeScript, easing transition again. 
      <li>Changed CLI to bare compilation so that defined variables are attached to global scope.
      <li>Added list comprehensions (eg. <code>[x for x in list when x is \something]</code>) and removed postfix loops (eg. <code>something x for x in list</code>). Comprehensions always return a list. Nested list comprehensions behave properly, ie. the last for is the inner most loop. Rationale: following Haskell and Python. More consistent behavior. Easier to deal with in your head. More intuitive. 
      </ul>
    </div>
    <hr>
    <div id="inspiration" class="section">
      <a name="inspiration"></a>
      <h2>Inspiration</h2>
        <ul>
          <li>Functional languages in general
          <li>Haskell
          <li>F#
        </ul>
    </div>
    <div id="name" class="section">
      <a name="name"></a>
      <h2>Name</h2>
        <p>LiveScript was one of the original names for JavaScript, so it seemed fitting. 
    </div>
  </div>
</div>

<script type="text/ls">
  console?.log 'LiveScript up'
</script>
<script src="livescript-0.9.4.js"></script>
</body>
</html>
